<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>samsf — Test Site</title>
  <link rel="stylesheet" href="assets/styles.css">
</head>
<body>
  <header class="site-header">
    <div class="container">
      <h1 class="brand">samsf</h1>
      <nav>
        <a href="#home">Home</a>
        <a href="#features">Features</a>
        <a href="#test">Test</a>
        <a href="#contact">Contact</a>
      </nav>
    </div>
  </header>

  <main>
    <section id="home" class="hero">
      <div class="container">
        <h2>Welcome to samsf</h2>
        <p>A simple static test site for GitHub Pages. Use this to test hosting, links, forms, and static content delivery.</p>
        <a class="btn" href="#test">Run demo</a>
      </div>
    </section>

    <section id="features" class="container cards">
      <article class="card">
        <h3>Static Pages</h3>
        <p>Serve HTML, CSS and JS with GitHub Pages. Good for demos and prototypes.</p>
      </article>
      <article class="card">
        <h3>Simple Form</h3>
        <p>Client-side form that stores test data in localStorage for offline testing.</p>
      </article>
      <article class="card">
        <h3>Auto Deploy</h3>
        <p>Use the included GitHub Actions workflow to auto-deploy on push to main.</p>
      </article>
    </section>

    <section id="test" class="container demo">
      <h2>Demo: Save Test Entry</h2>
      <form id="demoForm">
        <label>
          Name
          <input type="text" id="name" placeholder="Your name" required>
        </label>
        <label>
          Message
          <input type="text" id="message" placeholder="Something to save" required>
        </label>
        <div>
          <button type="submit" class="btn">Save locally</button>
          <button type="button" id="clear" class="btn ghost">Clear</button>
        </div>
      </form>

      <div id="entries">
        <h3>Saved entries</h3>
        <ul id="list"></ul>
      </div>
    </section>

    <section id="contact" class="container contact">
      <h2>Contact</h2>
      <p>Repo owner: SamsSalesforce</p>
      <p>Open issues on the repository for test feedback.</p>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <small>© samsf — Test site</small>
    </div>
  </footer>

  <script>
    // Simple localStorage demo for testing
    const form = document.getElementById('demoForm');
    const list = document.getElementById('list');
    const clearBtn = document.getElementById('clear');

    function loadEntries() {
      list.innerHTML = '';
      const entries = JSON.parse(localStorage.getItem('samsf-entries') || '[]');
      entries.forEach((e, i) => {
        const li = document.createElement('li');
        li.textContent = `${e.name}: ${e.message}`;
        const del = document.createElement('button');
        del.textContent = 'Delete';
        del.onclick = () => {
          entries.splice(i,1);
          localStorage.setItem('samsf-entries', JSON.stringify(entries));
          loadEntries();
        };
        li.appendChild(del);
        list.appendChild(li);
      });
    }

    form.addEventListener('submit', (ev) => {
      ev.preventDefault();
      const name = document.getElementById('name').value.trim();
      const message = document.getElementById('message').value.trim();
      if (!name || !message) return;
      const entries = JSON.parse(localStorage.getItem('samsf-entries') || '[]');
      entries.push({ name, message, createdAt: new Date().toISOString() });
      localStorage.setItem('samsf-entries', JSON.stringify(entries));
      form.reset();
      loadEntries();
    });

    clearBtn.addEventListener('click', () => {
      localStorage.removeItem('samsf-entries');
      loadEntries();
    });

    // Initialize
    loadEntries();
  </script>
</body>
</html>
